/// This example shows how to parse a Kubernetes deployment object to get a list of all container images.
/// It is the equivalent of the CLI invocation:
///
/// ```
/// pkl eval yaml.pkl -x 'pipe.spec.template.spec.containers.toList().map((c) -> c.image).join("\n")' < examples/k8s_deployment.yaml
/// ```
module pkl.pipe.examples.k8s_deployment_images
amends "../yaml.pkl"

input = read("./k8s_deployment.yaml")

output {
  text = module.pipe.spec.template.spec.containers.toList().map((c) -> c.image).join("\n")
}
